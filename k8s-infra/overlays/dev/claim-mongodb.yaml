---
apiVersion: xgeeks.org/v1alpha1
kind: MongoDatabase
metadata:
  name: demo-mongo2-db-claim
  namespace: idp-dev
  annotations:
    argocd.argoproj.io/sync-wave: "-10"
  # do not put finalizer here - will not sync ???
spec:
  # save secrets generated by this resource into...
  writeConnectionSecretToRef:
    name: demo-mongo2-dev-db-claim-secret
  parameters:
    cloudResourceGroup: gabtec-rg
    cloudLocation: North Europe
    destNamespace: idp-dev
    dbName: xgeeks-demo-mongo2-dev # for convention, ensure the "env" prefix is included
    dbVersion: "4.2" # For now 4.2 is the most recent version accepted
    ipRangeFilter: "0.0.0.0" # only trafic inside Azure
    # ipRangeFilter: "0.0.0.0,100.88.222.122" # only trafic inside Azure AND my home public IP
    tags:
      xgeeks.project.managed-by: crossplane
      xgeeks.project.team: idp_training
      xgeeks.project.name: idp
